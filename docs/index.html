<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Visualiza√ß√£o de dados abertos do Parlamento Portugu√™s - Iniciativas legislativas e agenda parlamentar da XVII Legislatura">
    <title>Viriato - Dados Abertos do Parlamento Portugu√™s</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Skip to content - Accessibility -->
    <a href="#main-content" class="skip-link">Saltar para o conte√∫do</a>

    <!-- Navigation -->
    <nav class="main-nav" role="navigation" aria-label="Navega√ß√£o principal">
        <div class="nav-container">
            <a href="#/" class="logo" aria-label="Viriato - P√°gina inicial">Viriato</a>
            <div class="nav-tabs" role="tablist" aria-label="Sec√ß√µes do site">
                <a href="#/assembleia" class="nav-tab" data-view="assembleia" role="tab" aria-selected="false">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="22" x2="21" y2="22"/><line x1="6" y1="18" x2="6" y2="11"/><line x1="10" y1="18" x2="10" y2="11"/><line x1="14" y1="18" x2="14" y2="11"/><line x1="18" y1="18" x2="18" y2="11"/><polygon points="12 2 20 7 4 7"/></svg>
                    <span class="nav-label">A Assembleia</span>
                </a>
                <a href="#/iniciativas" class="nav-tab" data-view="iniciativas" role="tab" aria-selected="false">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                    <span class="nav-label">Iniciativas</span>
                </a>
                <a href="#/agenda" class="nav-tab" data-view="agenda" role="tab" aria-selected="false">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                    <span class="nav-label">Agenda</span>
                </a>
                <a href="#/comissoes" class="nav-tab" data-view="comissoes" role="tab" aria-selected="false">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                    <span class="nav-label">Comiss√µes</span>
                </a>
            </div>
            <button class="feedback-cta" onclick="openFeedbackModal()" aria-label="Enviar sugest√µes">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.549 10.078c.46.182.88.424 1.258.725.378.3.701.65.97 1.046a4.829 4.829 0 0 1 .848 2.714V15H9.75v-.438a3.894 3.894 0 0 0-1.155-2.782 4.054 4.054 0 0 0-1.251-.84 3.898 3.898 0 0 0-1.532-.315A3.894 3.894 0 0 0 3.03 11.78a4.06 4.06 0 0 0-.84 1.251c-.206.474-.31.985-.315 1.531V15H1v-.438a4.724 4.724 0 0 1 .848-2.713 4.918 4.918 0 0 1 2.229-1.77 2.994 2.994 0 0 1-.555-.493 3.156 3.156 0 0 1-.417-.602 2.942 2.942 0 0 1-.26-.683 3.345 3.345 0 0 1-.095-.739c0-.423.08-.82.24-1.189a3.095 3.095 0 0 1 1.626-1.627 3.067 3.067 0 0 1 2.386-.007 3.095 3.095 0 0 1 1.627 1.627 3.067 3.067 0 0 1 .157 1.928c-.06.237-.148.465-.266.684a3.506 3.506 0 0 1-.417.608c-.16.187-.345.35-.554.492zM5.812 9.75c.301 0 .584-.057.848-.17a2.194 2.194 0 0 0 1.162-1.163c.119-.269.178-.554.178-.854a2.138 2.138 0 0 0-.643-1.538 2.383 2.383 0 0 0-.697-.472 2.048 2.048 0 0 0-.848-.178c-.3 0-.583.057-.847.17a2.218 2.218 0 0 0-1.17 1.17c-.113.264-.17.547-.17.848 0 .3.057.583.17.847.115.264.27.497.466.697a2.168 2.168 0 0 0 1.552.643zM15 1v7h-1.75l-2.625 2.625V8H9.75v-.875h1.75v1.388l1.388-1.388h1.237v-5.25h-8.75v1.572a7.255 7.255 0 0 0-.438.069 2.62 2.62 0 0 0-.437.123V1H15z"/></svg>
                <span class="feedback-label">Sugest√µes</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">

    <!-- HOME VIEW -->
    <div id="home-view" class="view active home-view" role="tabpanel" aria-labelledby="home-tab">
        <div class="container">
            <div class="home-header">
                <h1>Viriato</h1>
                <div class="home-subtitle">Dados Abertos do Parlamento Portugu√™s</div>
                <div class="home-description">
                    Visualiza√ß√£o da atividade legislativa da XVII Legislatura (2025-presente).
                    Explore a agenda parlamentar e as iniciativas legislativas.
                </div>
            </div>

            <div class="viewers">
                <div class="viewer-card" onclick="navigateTo('#/assembleia')" onkeydown="handleCardKeydown(event, '#/assembleia')" tabindex="0" role="button" aria-label="Ver A Assembleia">
                    <div class="viewer-icon" aria-hidden="true">
                        <svg viewBox="0 0 122.88 120.03" fill="currentColor"><path d="M15.25,102.29v-5.33h3.1c0-0.85,0-1.7,0-2.55h3.25V63.03h-6.64V55.7l92.96,0v7.33h-6.64v31.38h3.25v2.55h3.1v5.33H15.25L15.25,102.29z M64.37,2.18c10.77-7.44,11.57,7.29,22.15-1.91v15.01c-10.09,9.07-12.26-5.58-22.15,1.86V2.18L64.37,2.18L64.37,2.18z M62.85,0.81v17.52l48.41,24.76v7.81H11.91V43.1l48.26-24.83V0.81L62.85,0.81L62.85,0.81z M113.8,112.67h-0.49v-7.38c-34.57,0-69.17,0-103.74,0l0,0v7.38H9.08v0.02H0l0,0v7.34h122.88v-7.34h-9.08V112.67L113.8,112.67z M37.08,96.96h3.75v-2.55h3.25V63.03H33.83v31.38h3.25V96.96L37.08,96.96L37.08,96.96L37.08,96.96z M59.57,96.96h3.76v-2.55h3.24V63.03H56.32v31.38h3.25V96.96L59.57,96.96L59.57,96.96L59.57,96.96z M82.05,96.96h3.76v-2.55h3.25V63.03H78.8v31.38h3.25V96.96L82.05,96.96L82.05,96.96L82.05,96.96z"/></svg>
                    </div>
                    <div class="viewer-title">A Assembleia</div>
                    <div class="viewer-description">
                        Explore os deputados por partido, c√≠rculo eleitoral, g√©nero e comiss√µes.
                    </div>
                    <div class="viewer-stats">
                        <div class="stat">
                            <span class="stat-value" id="home-deputados-count">230</span>
                            <div class="stat-label">Deputados</div>
                        </div>
                        <div class="stat">
                            <span class="stat-value">22</span>
                            <div class="stat-label">C√≠rculos</div>
                        </div>
                    </div>
                </div>

                <div class="viewer-card" onclick="navigateTo('#/iniciativas')" onkeydown="handleCardKeydown(event, '#/iniciativas')" tabindex="0" role="button" aria-label="Ver Iniciativas Legislativas">
                    <div class="viewer-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                    </div>
                    <div class="viewer-title">Iniciativas Legislativas</div>
                    <div class="viewer-description">
                        Explore as iniciativas legislativas ao longo de todas as fases do processo parlamentar.
                    </div>
                    <div class="viewer-stats">
                        <div class="stat">
                            <span class="stat-value" id="home-ini-count">808</span>
                            <div class="stat-label">Iniciativas</div>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="home-ini-completed">102</span>
                            <div class="stat-label">Conclu√≠das</div>
                        </div>
                        <div class="stat">
                            <span class="stat-value">7</span>
                            <div class="stat-label">Tipos</div>
                        </div>
                    </div>
                </div>

                <div class="viewer-card" onclick="navigateTo('#/agenda')" onkeydown="handleCardKeydown(event, '#/agenda')" tabindex="0" role="button" aria-label="Ver Agenda Parlamentar">
                    <div class="viewer-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                    </div>
                    <div class="viewer-title">Agenda Parlamentar</div>
                    <div class="viewer-description">
                        Consulte o calend√°rio parlamentar com sess√µes plen√°rias, reuni√µes de comiss√µes e outros eventos.
                    </div>
                    <div class="viewer-stats">
                        <div class="stat">
                            <span class="stat-value" id="home-agenda-count">34</span>
                            <div class="stat-label">Eventos</div>
                        </div>
                        <div class="stat">
                            <span class="stat-value">Jan 2026</span>
                            <div class="stat-label">Atual</div>
                        </div>
                    </div>
                </div>

                <div class="viewer-card" onclick="navigateTo('#/comissoes')" onkeydown="handleCardKeydown(event, '#/comissoes')" tabindex="0" role="button" aria-label="Ver Comiss√µes Parlamentares">
                    <div class="viewer-icon" aria-hidden="true">
                        <svg viewBox="0 0 122.88 85.12" fill="currentColor"><path d="M29.11,43.35L29,50.04h12.08c2.56,0,4.65,2.09,4.65,4.65v4.65h-0.05v18.18c0,2.56-2.09,4.65-4.65,4.65h-4.65V61.02c0-1.92,0.36-1.68-1.49-1.68H22.93v-0.03h-5.96c-3.84,0-6.99-3.15-6.99-6.99v-22.9c0-3.91,3.2-7.11,7.11-7.11h3.52c5.58,0,6.13,2.67,7.55,5.46l5.94,2.34c4.3,1.94,3.2,2.32,6.12-1.3l3.8-4.7c1.86-2.97,9.21,0.13,6.06,5.12l-5.51,7.52c-2.29,3.13-5.34,3.57-9.03,2.04l-6.42-2.26V43.35L29.11,43.35z M119.06,77.82c-0.04-0.29-0.16-0.56-0.38-0.78c-1.61-1.62-3.64-2.94-5.96-3.85c-1.62-0.63-3.39-1.06-5.24-1.25l0.35-5.54h12.61c1.31,0,2.39-1.08,2.39-2.39c0-9.9-2.33-17.34,0-28.61c0.69-3.34-6.2-3.82-6.2,0.18v25.37H92.78c-1.31,0-2.39,1.76-2.39,3.07v1.86c0,0.29,0.24,0.53,0.53,0.53h12.65l0.49,5.48c-1.96,0.13-3.83,0.53-5.56,1.16c-2.22,0.81-4.19,2-5.79,3.46c-0.38,0.35-0.52,0.87-0.4,1.34c-0.62,0.46-1.02,0.92-1.02,2.04s1.14,2.54,2.54,2.54s2.54-1.42,2.54-2.54s-0.41-1.59-1.04-2.05c1.19-0.92,2.57-1.69,4.09-2.24c1.63-0.6,3.43-0.96,5.33-1.02l0.28,2.75l0.01,0.12c-1.07,0.3-1.86,1.16-1.86,2.45s1.14,2.54,2.54,2.54s2.54-1.26,2.54-2.54c0-1.28-0.78-2.14-1.84-2.44l0.01-0.13l0.2-2.72c1.81,0.12,3.53,0.51,5.09,1.12h0.01c1.52,0.59,2.89,1.39,4.06,2.36c-0.47,0.46-0.76,0.76-0.76,1.81s1.14,2.54,2.54,2.54c1.4,0,2.54-1.42,2.54-2.54C120.12,78.75,119.7,78.28,119.06,77.82L119.06,77.82z M98.71,0.34c-5.37,0-9.73,4.36-9.73,9.73c0,5.37,4.36,9.73,9.73,9.73c5.37,0,9.73-4.36,9.73-9.73C108.43,4.7,104.08,0.34,98.71,0.34L98.71,0.34z M94.66,38.5l0.19,11.54H82.77c-2.56,0-4.65,2.09-4.65,4.65v4.65h0.05v18.18c0,2.56,2.09,4.65,4.65,4.65h4.65v-21.5c0-2.04,0.77-1.33,3.07-1.33h10.38v-0.03h5.96c3.85,0,6.99-3.15,6.99-6.99V28.06c0-3.91-3.2-7.11-7.11-7.11h-3.52c-7.32,0-6.16,5.04-9.4,8.21c-3.2,3.13-2.4,3.49-6.77,3.49h-9.42c-5.62,0-7,7.35,1.01,7.35h8.64C91.15,40,91.48,40.61,94.66,38.5L94.66,38.5z M85.42,41.5c-15.16,0-26.91,0-42.07,0c-0.23,0-0.41,0.19-0.41,0.41v5.92c0,0.23,0.19,0.41,0.41,0.41c7.92,0,9.73,0,17.66,0v36.31c0,0.3,0.25,0.55,0.55,0.55h0.21h0.01h5.82h0.01h0.21c0.3,0,0.55-0.25,0.55-0.55V48.25c5.23,0,11.82,0,17.05,0c0.22,0,0.41-0.19,0.41-0.41v-5.92C85.83,41.68,85.64,41.5,85.42,41.5L85.42,41.5z M1.29,36.78h3.39c0.69,0,1.15,0.58,1.26,1.26c1.28,8.08,1.98,16.16,1.94,24.23h23.2c0.92,0,1.66,0.75,1.66,1.66v3.36h-1.33V84.5c0,0.28-0.23,0.51-0.51,0.51h-4.45c-0.28,0-0.51-0.23-0.51-0.51v-7.48H6.97c-0.28,2.28-0.62,4.56-1.03,6.84c-0.12,0.68-0.57,1.26-1.26,1.26H1.29c-0.69,0-1.45-0.59-1.26-1.26c4.47-15.56,3.54-30.77,0-45.81C-0.13,37.37,0.6,36.78,1.29,36.78L1.29,36.78z M25.95,74.7v-7.4H7.81c-0.1,3.15-0.32,4.25-0.66,7.4H25.95L25.95,74.7z M20.39,0c5.37,0,9.73,4.36,9.73,9.73s-4.36,9.73-9.73,9.73s-9.73-4.36-9.73-9.73S15.01,0,20.39,0L20.39,0z"/></svg>
                    </div>
                    <div class="viewer-title">Comiss√µes Parlamentares</div>
                    <div class="viewer-description">
                        Consulte a composi√ß√£o partid√°ria e o trabalho das comiss√µes parlamentares.
                    </div>
                    <div class="viewer-stats">
                        <div class="stat">
                            <span class="stat-value" id="home-comissoes-count">18</span>
                            <div class="stat-label">Comiss√µes</div>
                        </div>
                        <div class="stat">
                            <span class="stat-value">XVII</span>
                            <div class="stat-label">Legislatura</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- INICIATIVAS VIEW -->
    <div id="iniciativas-view" class="view" role="tabpanel" aria-labelledby="iniciativas-tab">
        <div class="container">
            <div class="iniciativas-header">
                <h1>Iniciativas Legislativas</h1>
                <p>XVII Legislature (2025-present)</p>
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-number" id="ini-total">-</div>
                        <div class="stat-box-label">Total Iniciativas</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="ini-completed">-</div>
                        <div class="stat-box-label">Completed</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="ini-phases">60</div>
                        <div class="stat-box-label">Lifecycle Phases</div>
                    </div>
                </div>
            </div>

            <div class="iniciativas-layout">
                <!-- Sidebar with filters -->
                <aside class="filters-sidebar">
                    <h2>Filtros</h2>
                    <div class="filter-group">
                        <label class="filter-label" id="legislature-label">Legislatura</label>
                        <div class="filter-buttons" role="group" aria-labelledby="legislature-label">
                            <button class="filter-btn" data-legislature="all">Todas</button>
                            <button class="filter-btn active" data-legislature="XVII">XVII (2025-presente)</button>
                            <button class="filter-btn" data-legislature="XVI">XVI (2024-2025)</button>
                            <button class="filter-btn" data-legislature="XV">XV (2022-2024)</button>
                            <button class="filter-btn" data-legislature="XIV">XIV (2019-2022)</button>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label" id="filter-label">Tipo de Iniciativa</label>
                        <div class="filter-buttons" role="group" aria-labelledby="filter-label">
                            <button class="filter-btn active" data-type="all">Todos</button>
                            <button class="filter-btn" data-type="J">Projetos de Lei</button>
                            <button class="filter-btn" data-type="R">Projetos de Resolu√ß√£o</button>
                            <button class="filter-btn" data-type="P">Propostas de Lei</button>
                            <button class="filter-btn" data-type="D">Delibera√ß√µes</button>
                        </div>
                    </div>
                </aside>

                <!-- Main content -->
                <div class="iniciativas-main">
                    <div class="funnels">
                        <div class="funnel-container">
                            <div class="funnel-title">Leis - Estado Atual</div>
                            <div id="laws-funnel" class="funnel-chart"></div>
                        </div>
                        <div class="funnel-container">
                            <div class="funnel-title">Resolu√ß√µes - Estado Atual</div>
                            <div id="resolutions-funnel" class="funnel-chart"></div>
                        </div>
                    </div>

                    <!-- Analytics Widgets -->
                    <div class="analytics-grid" id="analytics-widgets">
                        <div class="widget">
                            <div class="widget-title">
                                <span class="widget-title-icon" aria-hidden="true">üìä</span>
                                Por Tipo
                            </div>
                            <div id="type-widget" class="type-grid">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                        <div class="widget">
                            <div class="widget-title">
                                <span class="widget-title-icon" aria-hidden="true">üìÖ</span>
                                Por M√™s
                            </div>
                            <div id="month-widget" class="timeline-chart" style="margin-bottom: 30px;">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                        <div class="widget">
                            <div class="widget-title">
                                <span class="widget-title-icon" aria-hidden="true">üë§</span>
                                Por Autor
                            </div>
                            <div id="author-widget" class="bar-chart">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Search section (just above cards) -->
                    <div class="search-section">
                        <label class="filter-label" id="search-label">Pesquisar Iniciativas</label>
                        <div class="search-container" role="search">
                            <input type="text" id="search-input" class="search-input" placeholder="Pesquisar por t√≠tulo (ex: 'sa√∫de', 'educa√ß√£o', 'ambiente')..." aria-label="Pesquisar iniciativas" />
                            <button id="search-btn" class="search-btn" onclick="performSearch()" aria-label="Pesquisar">Pesquisar</button>
                            <button id="clear-search-btn" class="clear-search-btn" onclick="clearSearch()" aria-label="Limpar pesquisa">Limpar</button>
                        </div>
                        <div id="search-results-info" class="search-results-info"></div>
                    </div>

                    <div id="initiatives" class="loading" role="status" aria-live="polite">A carregar iniciativas...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- AGENDA VIEW -->
    <div id="agenda-view" class="view" role="tabpanel" aria-labelledby="agenda-tab">
        <div class="container">
            <div class="agenda-header">
                <h1>Agenda Parlamentar</h1>
                <p>Calend√°rio da XVII Legislatura</p>
            </div>

            <div class="agenda-controls">
                <div class="legend">
                    <label class="legend-filter active" data-type="plenary">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('plenary', this.checked)">
                        <span class="legend-shape bg-plenary"></span>
                        <span>Plen√°rio</span>
                    </label>
                    <label class="legend-filter active" data-type="committee">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('committee', this.checked)">
                        <span class="legend-shape bg-committee"></span>
                        <span>Comiss√µes</span>
                    </label>
                    <label class="legend-filter active" data-type="groups">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('groups', this.checked)">
                        <span class="legend-shape bg-groups"></span>
                        <span>Grupos Parlamentares</span>
                    </label>
                    <label class="legend-filter active" data-type="conference">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('conference', this.checked)">
                        <span class="legend-shape bg-conference"></span>
                        <span>Conf. L√≠deres</span>
                    </label>
                    <label class="legend-filter active" data-type="workgroup">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('workgroup', this.checked)">
                        <span class="legend-shape bg-workgroup"></span>
                        <span>Grupos Trabalho</span>
                    </label>
                    <label class="legend-filter active" data-type="visits">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('visits', this.checked)">
                        <span class="legend-shape bg-visits"></span>
                        <span>Visitas</span>
                    </label>
                    <label class="legend-filter active" data-type="assistances">
                        <input type="checkbox" checked onchange="toggleAgendaFilter('assistances', this.checked)">
                        <span class="legend-shape bg-assistances"></span>
                        <span>Assist√™ncias</span>
                    </label>
                </div>
                <div class="view-toggle">
                    <button class="view-btn" data-view="grid" onclick="setAgendaView('grid')">Grelha</button>
                    <button class="view-btn active" data-view="timeline" onclick="setAgendaView('timeline')">Cronograma</button>
                </div>
            </div>

            <div id="agenda" class="loading" role="status" aria-live="polite">A carregar agenda...</div>
        </div>
    </div>

    <!-- COMISS√ïES VIEW -->
    <div id="comissoes-view" class="view" role="tabpanel" aria-labelledby="comissoes-tab">
        <div class="container">
            <h1 class="page-title">Comiss√µes Parlamentares</h1>
            <p class="page-subtitle">Composi√ß√£o partid√°ria das comiss√µes da XVII Legislatura</p>

            <div id="comissoes-content" class="loading" role="status" aria-live="polite">
                A carregar comiss√µes...
            </div>
        </div>
    </div>

    <!-- ASSEMBLEIA VIEW -->
    <div id="assembleia-view" class="view" role="tabpanel" aria-labelledby="assembleia-tab">
        <div class="container">
            <h1 class="page-title">A Assembleia</h1>
            <p class="page-subtitle">Deputados da XVII Legislatura por partido, c√≠rculo eleitoral e g√©nero</p>

            <div id="assembleia-content" class="loading" role="status" aria-live="polite">
                A carregar deputados...
            </div>
        </div>
    </div>

    </main>

    <!-- Footer -->
    <footer>
        <p>
            Fonte de dados: <a href="https://www.parlamento.pt" target="_blank">Parlamento.pt</a> |
            XVII Legislatura (2025-presente) |
            API: <a href="https://viriato-api.onrender.com/api/health" target="_blank">viriato-api.onrender.com</a> |
            <a href="javascript:void(0)" onclick="openFeedbackModal()" style="cursor: pointer;">Enviar Feedback</a>
        </p>
    </footer>


    <!-- Agenda Initiatives Modal -->
    <div id="agenda-initiatives-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-header-content">
                    <div class="modal-title" id="modal-event-title">Evento</div>
                    <div class="modal-subtitle" id="modal-event-subtitle"></div>
                </div>
                <button class="modal-close" onclick="closeAgendaModal()" aria-label="Fechar">√ó</button>
            </div>
            <div class="modal-body" id="modal-initiatives-body">
                <!-- Content loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal-overlay" onclick="closeFeedbackModal(event)">
        <div class="modal-content" style="max-width: 550px;" onclick="event.stopPropagation()">
            <div class="modal-header">
                <div class="modal-header-content">
                    <div class="modal-title">Enviar Feedback</div>
                    <div class="modal-subtitle">Ajude-nos a melhorar o Viriato</div>
                </div>
                <button class="modal-close" onclick="closeFeedbackModal()" aria-label="Fechar">√ó</button>
            </div>
            <div class="modal-body" id="feedback-modal-body">
                <form id="feedback-form" class="feedback-form" onsubmit="submitFeedback(event)">
                    <div id="feedback-error" class="feedback-error" style="display: none;"></div>

                    <div class="form-group">
                        <label for="feedback-title">Titulo</label>
                        <input type="text" id="feedback-title" name="title"
                               placeholder="Ex: Sugestao de nova funcionalidade"
                               required minlength="5" maxlength="200">
                    </div>

                    <div class="form-group">
                        <label for="feedback-description">Descricao</label>
                        <textarea id="feedback-description" name="description"
                                  placeholder="Descreva a sua sugestao, problema encontrado ou ideia de melhoria..."
                                  required minlength="10" maxlength="5000"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="feedback-email">Email <span class="optional">(opcional)</span></label>
                        <input type="email" id="feedback-email" name="email"
                               placeholder="Para recebermos resposta">
                    </div>

                    <!-- Honeypot field - hidden from users, catches bots -->
                    <input type="text" name="honeypot" class="ohnohoney" tabindex="-1" autocomplete="off">

                    <button type="submit" class="feedback-submit" id="feedback-submit-btn">
                        Enviar Feedback
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
